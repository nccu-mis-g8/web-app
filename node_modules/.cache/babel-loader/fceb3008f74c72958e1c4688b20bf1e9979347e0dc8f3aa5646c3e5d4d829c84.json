{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import classes from\"./NavigationBar.module.css\";import bot_avatar from\"../images/bot_avatar.png\";import chat from\"../images/chat.png\";import upload from\"../images/upload.png\";import notebook from\"../images/notebook.png\";import logout from\"../images/logout.png\";import LogoutMenu from\"./LogoutMenu\";import{getUserAvatar}from\"../utils/userInfoUtils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NavigationBar(){const[showLogoutMenu,setShowLogoutMenu]=useState(false);const[userAvatar,setUserAvatar]=useState(bot_avatar);useEffect(()=>{async function fetchUserAvatar(){const avatarUrl=await getUserAvatar();if(avatarUrl){setUserAvatar(avatarUrl);}else{setUserAvatar(bot_avatar);}}fetchUserAvatar();},[]);const navigate=useNavigate();function toggleLogoutMenu(){setShowLogoutMenu(!showLogoutMenu);}function cancelLogout(){setShowLogoutMenu(false);}function redirectToUserInfo(){navigate(\"/user_info\");}function redirectToChat(){navigate(\"/\");}function redirectToUpload(){navigate(\"/upload\");}return/*#__PURE__*/_jsxs(\"div\",{className:classes.barContainer,children:[/*#__PURE__*/_jsx(\"img\",{src:userAvatar,className:classes.userIcon,alt:\"\\u4F7F\\u7528\\u8005\\u8CC7\\u8A0A\",onClick:redirectToUserInfo}),/*#__PURE__*/_jsx(\"img\",{src:chat,className:classes.icon,alt:\"\\u804A\\u5929\\u5BA4\",onClick:redirectToChat}),/*#__PURE__*/_jsx(\"img\",{src:upload,className:classes.icon,alt:\"\\u4E0A\\u50B3\",onClick:redirectToUpload}),/*#__PURE__*/_jsx(\"img\",{src:notebook,className:classes.icon,alt:\"\\u8A18\\u4E8B\\u672C\"}),/*#__PURE__*/_jsx(\"img\",{src:logout,className:classes.logout,alt:\"\\u767B\\u51FA\",onClick:toggleLogoutMenu}),showLogoutMenu&&/*#__PURE__*/_jsx(LogoutMenu,{cancelLogout:cancelLogout})]});}export default NavigationBar;","map":{"version":3,"names":["useState","useEffect","useNavigate","classes","bot_avatar","chat","upload","notebook","logout","LogoutMenu","getUserAvatar","jsx","_jsx","jsxs","_jsxs","NavigationBar","showLogoutMenu","setShowLogoutMenu","userAvatar","setUserAvatar","fetchUserAvatar","avatarUrl","navigate","toggleLogoutMenu","cancelLogout","redirectToUserInfo","redirectToChat","redirectToUpload","className","barContainer","children","src","userIcon","alt","onClick","icon"],"sources":["C:/Users/user/Desktop/gp-web-app/frontend/src/components/NavigationBar.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport classes from \"./NavigationBar.module.css\";\r\nimport bot_avatar from \"../images/bot_avatar.png\";\r\nimport chat from \"../images/chat.png\";\r\nimport upload from \"../images/upload.png\";\r\nimport notebook from \"../images/notebook.png\";\r\nimport logout from \"../images/logout.png\";\r\nimport LogoutMenu from \"./LogoutMenu\";\r\nimport { getUserAvatar } from \"../utils/userInfoUtils\";\r\n\r\nfunction NavigationBar() {\r\n    const [showLogoutMenu, setShowLogoutMenu] = useState(false);\r\n    const [userAvatar, setUserAvatar] = useState(bot_avatar);\r\n\r\n    useEffect(() => {\r\n        async function fetchUserAvatar() {\r\n            const avatarUrl = await getUserAvatar();\r\n            if (avatarUrl) {\r\n                setUserAvatar(avatarUrl);\r\n            } else {\r\n                setUserAvatar(bot_avatar);\r\n            }\r\n        }\r\n        fetchUserAvatar();\r\n    }, [])\r\n\r\n    const navigate = useNavigate();\r\n\r\n    function toggleLogoutMenu() {\r\n        setShowLogoutMenu(!showLogoutMenu);\r\n    }\r\n\r\n    function cancelLogout() {\r\n        setShowLogoutMenu(false);\r\n    }\r\n\r\n    function redirectToUserInfo() {\r\n        navigate(\"/user_info\");\r\n    }\r\n\r\n    function redirectToChat() {\r\n        navigate(\"/\");\r\n    }\r\n\r\n    function redirectToUpload() {\r\n        navigate(\"/upload\");\r\n    }\r\n        \r\n\r\n    return (\r\n        <div className={classes.barContainer}>\r\n            <img src={userAvatar} className={classes.userIcon} alt=\"使用者資訊\" onClick={redirectToUserInfo}/>\r\n            <img src={chat} className={classes.icon} alt=\"聊天室\" onClick={redirectToChat}/>\r\n            <img src={upload} className={classes.icon} alt=\"上傳\" onClick={redirectToUpload}/>\r\n            <img src={notebook} className={classes.icon} alt=\"記事本\"/>\r\n            <img src={logout} className={classes.logout} alt=\"登出\" onClick={toggleLogoutMenu}/>\r\n            { showLogoutMenu && <LogoutMenu cancelLogout={cancelLogout} /> }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavigationBar;"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,OAAO,KAAM,4BAA4B,CAChD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,OAASC,aAAa,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACrB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGjB,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACkB,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAACI,UAAU,CAAC,CAExDH,SAAS,CAAC,IAAM,CACZ,cAAe,CAAAmB,eAAeA,CAAA,CAAG,CAC7B,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAX,aAAa,CAAC,CAAC,CACvC,GAAIW,SAAS,CAAE,CACXF,aAAa,CAACE,SAAS,CAAC,CAC5B,CAAC,IAAM,CACHF,aAAa,CAACf,UAAU,CAAC,CAC7B,CACJ,CACAgB,eAAe,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,QAAQ,CAAGpB,WAAW,CAAC,CAAC,CAE9B,QAAS,CAAAqB,gBAAgBA,CAAA,CAAG,CACxBN,iBAAiB,CAAC,CAACD,cAAc,CAAC,CACtC,CAEA,QAAS,CAAAQ,YAAYA,CAAA,CAAG,CACpBP,iBAAiB,CAAC,KAAK,CAAC,CAC5B,CAEA,QAAS,CAAAQ,kBAAkBA,CAAA,CAAG,CAC1BH,QAAQ,CAAC,YAAY,CAAC,CAC1B,CAEA,QAAS,CAAAI,cAAcA,CAAA,CAAG,CACtBJ,QAAQ,CAAC,GAAG,CAAC,CACjB,CAEA,QAAS,CAAAK,gBAAgBA,CAAA,CAAG,CACxBL,QAAQ,CAAC,SAAS,CAAC,CACvB,CAGA,mBACIR,KAAA,QAAKc,SAAS,CAAEzB,OAAO,CAAC0B,YAAa,CAAAC,QAAA,eACjClB,IAAA,QAAKmB,GAAG,CAAEb,UAAW,CAACU,SAAS,CAAEzB,OAAO,CAAC6B,QAAS,CAACC,GAAG,CAAC,gCAAO,CAACC,OAAO,CAAET,kBAAmB,CAAC,CAAC,cAC7Fb,IAAA,QAAKmB,GAAG,CAAE1B,IAAK,CAACuB,SAAS,CAAEzB,OAAO,CAACgC,IAAK,CAACF,GAAG,CAAC,oBAAK,CAACC,OAAO,CAAER,cAAe,CAAC,CAAC,cAC7Ed,IAAA,QAAKmB,GAAG,CAAEzB,MAAO,CAACsB,SAAS,CAAEzB,OAAO,CAACgC,IAAK,CAACF,GAAG,CAAC,cAAI,CAACC,OAAO,CAAEP,gBAAiB,CAAC,CAAC,cAChFf,IAAA,QAAKmB,GAAG,CAAExB,QAAS,CAACqB,SAAS,CAAEzB,OAAO,CAACgC,IAAK,CAACF,GAAG,CAAC,oBAAK,CAAC,CAAC,cACxDrB,IAAA,QAAKmB,GAAG,CAAEvB,MAAO,CAACoB,SAAS,CAAEzB,OAAO,CAACK,MAAO,CAACyB,GAAG,CAAC,cAAI,CAACC,OAAO,CAAEX,gBAAiB,CAAC,CAAC,CAChFP,cAAc,eAAIJ,IAAA,CAACH,UAAU,EAACe,YAAY,CAAEA,YAAa,CAAE,CAAC,EAC7D,CAAC,CAEd,CAEA,cAAe,CAAAT,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}