{"ast":null,"code":"import{useState}from\"react\";import{Form}from\"react-router-dom\";import{localUpload}from\"../utils/uploadUtils\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Upload(){const[file,setFile]=useState(null);const[masterName,setMasterName]=useState(\"\");const[error,setError]=useState(\"\");function fileChangeHandler(e){const selectedFile=e.target.files[0];if(selectedFile&&selectedFile.type===\"text/plain\"){setFile(selectedFile);}}async function submitHandler(){if(!file){setError(\"Please select a file\");return;}if(!masterName){setError(\"Please enter a name\");return;}try{await localUpload(file,masterName);}catch(error){console.error(\"有點問題喔\",error);}}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\"Choose a .txt file:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",accept:\".txt\",onChange:fileChangeHandler})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Enter your name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",onChange:e=>setMasterName(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{children:error}),/*#__PURE__*/_jsx(\"button\",{children:\"Upload\"})]})});}export default Upload;","map":{"version":3,"names":["useState","Form","localUpload","jsx","_jsx","jsxs","_jsxs","Upload","file","setFile","masterName","setMasterName","error","setError","fileChangeHandler","e","selectedFile","target","files","type","submitHandler","console","children","onSubmit","htmlFor","id","accept","onChange","value"],"sources":["C:/Users/user/Desktop/gp-web-app/frontend/src/routes/Upload.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Form } from \"react-router-dom\";\r\nimport { localUpload } from \"../utils/uploadUtils\";\r\n\r\nfunction Upload() {\r\n    const [file, setFile] = useState(null);\r\n    const [masterName, setMasterName] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n    function fileChangeHandler(e) {\r\n        const selectedFile = e.target.files[0];\r\n        if (selectedFile && selectedFile.type === \"text/plain\") {\r\n            setFile(selectedFile);\r\n        }\r\n    }\r\n\r\n    async function submitHandler() {\r\n        if (!file) {\r\n            setError(\"Please select a file\");\r\n            return;\r\n        }\r\n\r\n        if (!masterName) {\r\n            setError(\"Please enter a name\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await localUpload(file, masterName);\r\n        } catch(error) {\r\n            console.error(\"有點問題喔\", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form onSubmit={submitHandler}>\r\n                <div>\r\n                    <label htmlFor=\"file\">Choose a .txt file:</label>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"file\"\r\n                        accept=\".txt\"\r\n                        onChange={fileChangeHandler}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Enter your name:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        onChange={(e) => setMasterName(e.target.value)}\r\n                    />\r\n                </div>\r\n                <div>{error}</div>\r\n                <button>Upload</button>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Upload;\r\n"],"mappings":"AAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACd,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACU,UAAU,CAAEC,aAAa,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtC,QAAS,CAAAc,iBAAiBA,CAACC,CAAC,CAAE,CAC1B,KAAM,CAAAC,YAAY,CAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CACtC,GAAIF,YAAY,EAAIA,YAAY,CAACG,IAAI,GAAK,YAAY,CAAE,CACpDV,OAAO,CAACO,YAAY,CAAC,CACzB,CACJ,CAEA,cAAe,CAAAI,aAAaA,CAAA,CAAG,CAC3B,GAAI,CAACZ,IAAI,CAAE,CACPK,QAAQ,CAAC,sBAAsB,CAAC,CAChC,OACJ,CAEA,GAAI,CAACH,UAAU,CAAE,CACbG,QAAQ,CAAC,qBAAqB,CAAC,CAC/B,OACJ,CAEA,GAAI,CACA,KAAM,CAAAX,WAAW,CAACM,IAAI,CAAEE,UAAU,CAAC,CACvC,CAAE,MAAME,KAAK,CAAE,CACXS,OAAO,CAACT,KAAK,CAAC,OAAO,CAAEA,KAAK,CAAC,CACjC,CACJ,CAEA,mBACIR,IAAA,QAAAkB,QAAA,cACIhB,KAAA,CAACL,IAAI,EAACsB,QAAQ,CAAEH,aAAc,CAAAE,QAAA,eAC1BhB,KAAA,QAAAgB,QAAA,eACIlB,IAAA,UAAOoB,OAAO,CAAC,MAAM,CAAAF,QAAA,CAAC,qBAAmB,CAAO,CAAC,cACjDlB,IAAA,UACIe,IAAI,CAAC,MAAM,CACXM,EAAE,CAAC,MAAM,CACTC,MAAM,CAAC,MAAM,CACbC,QAAQ,CAAEb,iBAAkB,CAC/B,CAAC,EACD,CAAC,cACNR,KAAA,QAAAgB,QAAA,eACIlB,IAAA,UAAOoB,OAAO,CAAC,MAAM,CAAAF,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAC9ClB,IAAA,UACIe,IAAI,CAAC,MAAM,CACXM,EAAE,CAAC,MAAM,CACTE,QAAQ,CAAGZ,CAAC,EAAKJ,aAAa,CAACI,CAAC,CAACE,MAAM,CAACW,KAAK,CAAE,CAClD,CAAC,EACD,CAAC,cACNxB,IAAA,QAAAkB,QAAA,CAAMV,KAAK,CAAM,CAAC,cAClBR,IAAA,WAAAkB,QAAA,CAAQ,QAAM,CAAQ,CAAC,EACrB,CAAC,CACN,CAAC,CAEd,CAEA,cAAe,CAAAf,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}